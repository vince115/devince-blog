/* src/app/globals.css */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- 程式碼區塊樣式 --- */
.prose pre {
  border-radius: 0.5rem;
  overflow-x: auto;
  padding: 1rem 1.25rem;
  background-color: #f5f5f5; /* 預設淺灰背景 */
  transition: background-color 0.3s ease;
}

/* --- 程式碼區塊樣式 暗色 --- */
.dark .prose pre {
  background-color: #1e1e1e; /* VS Code 暗灰風格 */
}

/* code 本體字體微調 */
.prose pre code {
  font-family: var(--font-mono, ui-monospace, monospace);
  font-size: 0.95rem;
  color: inherit;
}

/* --- 全域色彩變數 --- */
:root {
  --background: #ffffff;
  --foreground: #171717;
}

.dark {
  --background: #0a0a0a;
  --foreground: #ededed;
}

/* --- 全域主題樣式 --- */
html {
  transition: background-color 0.4s ease, color 0.4s ease;
}

/* 修正 backdrop-blur + transition-colors 的卡色問題 */
html.dark * {
  color-scheme: dark;
}
html:not(.dark) * {
  color-scheme: light;
}

/* --- 全域字體與顏色 --- */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans, Arial, Helvetica, sans-serif);
}

code {
  font-family: var(--font-mono, 'Courier New', Courier, monospace);
}



/* === Shiki 程式碼區塊樣式 === */
/* Light mode */
pre.shiki {
  background-color: var(--shiki-light-bg, #dddddd) !important;
  color: var(--shiki-light, #2d2d2d);
}

/* Dark mode */
.dark pre.shiki,
.dark pre.shiki span {
  color: var(--shiki-dark, #e5e5e5) !important;
  background-color: var(--shiki-dark-bg, #1e1e1e) !important;
}

/* 統一外觀 */
pre.shiki {
  border-radius: 0.5rem;
  padding: 1rem 1.25rem;
  overflow-x: auto;
}

/* 避免 prose 覆蓋 shiki token 顏色 */
.prose pre code {
  color: inherit;
}


/* --- Tailwind Typography 顏色微調 --- */
.prose {
  color: var(--foreground);
}

/* 標題顏色與間距 */
.prose h1 { @apply text-4xl font-bold text-blue-700; }
.prose h2 { @apply text-2xl font-semibold text-teal-600 mt-8 mb-4; }

/* 內文字體大小與顏色 */
.prose p { @apply text-base mb-4; }

/* 引言區塊 */
.prose blockquote {
  @apply border-l-4 border-blue-400 pl-4 italic text-gray-600  dark:text-zinc-200 bg-blue-50  dark:bg-blue-500/10 ;
}

/* 背景色可全局指定 */
.dark .prose {
  @apply text-gray-300;
}

/* 暗色模式 (dark) */
.dark .prose {
  @apply text-gray-400;
}
.dark .prose a {
  @apply text-blue-300;
}
.dark .prose strong {
  @apply text-gray-100;
}
.dark .prose h1,
.dark .prose h2,
.dark .prose h3,
.dark .prose h4 {
  color: #f1f5f9;
}
.dark .prose code {
  color: #facc15; /* 黃色程式碼字體 */
}
.dark .prose blockquote {
  color: #cbd5e1;
  border-left-color: #475569;
}